<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Upload Multiple PDF Files</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
<div class="container">
    <h1 class="mt-5">Upload Multiple PDF Files or Provide Drive Links</h1>
    <form method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="files">Select PDF files:</label>
            <input type="file" name="files[]" id="files" class="form-control-file" multiple>
        </div>
        <div class="form-group">
            <label for="drive_links">Drive Links (one per line):</label>
            <textarea name="drive_links" id="drive_links" class="form-control" rows="3" placeholder="Paste drive links here, one per line..."></textarea>
        </div>
        <div class="form-group">
            <label for="page_size">Select Page Size:</label>
            <select name="page_size" id="page_size" class="form-control" required>
                <option value="A4">A4</option>
                <option value="A5">A5</option>
            </select>
        </div>
        <div class="form-group">
            <label for="color_type">Select Color Type:</label>
            <select name="color_type" id="color_type" class="form-control" required>
                <option value="color">Color</option>
                <option value="black_and_white">Black and White</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>

    <h2 class="mt-5">Uploaded Files Details</h2>
    {% if file_details %}
        <ul class="list-group">
        {% for file in file_details %}
            <li class="list-group-item">
                <strong>Filename:</strong> {{ file.filename }} |
                <strong>Total Pages:</strong> {{ file.total_pages }} |
                <strong>Page Size:</strong> {{ file.page_size }} |
                <strong>Color Type:</strong> {{ file.color_type }} |
                <strong>Price:</strong> {{ file.price }} TK
            </li>
        {% endfor %}
        </ul>
        <h3 class="mt-3">Total Price: {{ total_price }} TK</h3>
        <form method="post" action="/clear">
            <button type="submit" class="btn btn-danger mt-3">Clear All Files</button>
        </form>
    {% else %}
        <p>No files uploaded yet.</p>
    {% endif %}
</div>
</body>
</html>
